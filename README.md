# PBLに関するメモ

主な仕様などをここに適当にメモしていこうと思う

# 仕様・動作環境

メモとか適当に書いていく

## 動作環境

* LinuxあるいはUnix環境
* Dockerが必要
* ストレージに空きが必要（15GBほど）

## 仕様

Dockerコンテナ内でLaTeXファイルのコンパイルを行い、PDFファイルを出力する（追加予定）<br>
動作環境としては、基本的にはLinuxを想定しているが、
場合によってはすべての処理をDockerコンテナ内で行うようにしてもいいかも<br>
動作環境がUnix系に限定される主な要因はシェルスクリプトを実行したいからであって、
batファイルやpowershellのスクリプトを用意できるならWindowsでも問題ないといえば問題ない
（俺が面倒くさいだけ）<br>
またDockerコンテナで完結させるのにも問題が無いわけでは無いので、微妙でもある<br>
Dockerコンテナ内で処理を完結させるのは無理そう。
具体的には、Dockerコンテナ内で処理を完結させるには、Dockerコンテナ内でDockerコンテナを動かす必要があるが、
これは推奨されないらしい。
また、シンプルにコンテナのサイズが大きくなりすぎる危険性もある。
Dockerコンテナは大きなデータを扱う際、ディレクトリあるいはDockerボリュームをマウントすることが推奨されているが、
今回使用するtexliveはそれらが不可能であり、Dockerコンテナ内に約8GBのDockerコンテナイメージのDockerコンテナを動作させるのはかなりギリギリだと思う。
もちろん、Docker DaemonでDockerの設定を変更すれば、もっと大きなDockerコンテナも使用可能ではあるが、そいういった設定が必要となる時点でソフトウェアとして微妙すぎる気がするので今回はやめておく

## 仕組み

1. LaTeXのコンパイル環境をおそらくすべて含んでいるtexliveをダウンロードしてインストールしたDockerコンテナ１のイメージをDocker Hub上に保管しておく
2. 利用者はDockerコンテナ１のコンテナイメージからDockerコンテナ１を作成して、そこにTexファイルをコピーして、コンテナ１内部でコンパイルを行い、出力されたPDFファイルを受け取る
3. 上記の2.の作業はシェルスクリプトによって完全に自動で行われる

# 余談

アジャイル開発などを体験することが目的の１つであるので、はじめから完成を目指すのではなく、
あとから、何度も機能を追加していくような開発を行おうと思う<br>
ガチの余談だが、開発に利用したツールなどの設定ファイルも適当なリポジトリを用意して、
GitHubに上げておこうと思う<br>
そんな感じで利用しようと思っているので、
プライベートリポジトリは基本的にはそういった雑多なファイル類を入れるようにしようと思う<br>
Docker Hubについてもプライベートリポジトリが複数作成できるかは不明だが、
基本的にはそういった感じで利用していこうと思う。

## 開発環境

開発は主にGitを用いてローカルリポジトリで行い、それらを一日に一回ほど、GitHubのリポジトリにプッシュしようと思う<br>
もちろん、自宅でも開発を行いたい場合はGitHubからプルすることもあるとは思うが、基本的にはここで開発を行う

### Git
ユーザー名: mf220061<br>
メールアドレス: mf220061@g.u-fukui.ac.jp

### GitHub
Gitと同じユーザー名とメールアドレスで登録

### Docker Hub
Gitと同じユーザー名とメールアドレスで登録

### GitLab
ローカル環境に構築する。ここでCI/CD開発を体験する
